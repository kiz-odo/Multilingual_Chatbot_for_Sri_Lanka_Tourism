# ==========================================
# Sri Lanka Tourism Chatbot - Environment Configuration
# ==========================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control!

# ==========================================
# APPLICATION SETTINGS
# ==========================================
APP_NAME="Sri Lanka Tourism Chatbot"
APP_VERSION="1.0.0"
DEBUG=false
ENVIRONMENT=production  # development, staging, production
HOST=0.0.0.0
PORT=8000

# ==========================================
# SECURITY (CRITICAL!)
# ==========================================
# Generate a secure secret key with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY="CHANGE-THIS-TO-A-SECURE-RANDOM-KEY-IN-PRODUCTION"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Email verification secret
EMAIL_VERIFICATION_SECRET="your-email-verification-secret-change-this"
EMAIL_VERIFICATION_EXPIRE_MINUTES=1440

# ==========================================
# DATABASE
# ==========================================
MONGODB_URL="mongodb://localhost:27017"
DATABASE_NAME="sri_lanka_tourism_bot"

# ==========================================
# REDIS CACHE
# ==========================================
REDIS_URL="redis://localhost:6379"

# ==========================================
# CELERY (TASK QUEUE)
# ==========================================
CELERY_BROKER_URL="redis://localhost:6379/0"
CELERY_RESULT_BACKEND="redis://localhost:6379/0"

# ==========================================
# RASA NLU SERVICE
# ==========================================
RASA_SERVER_URL="http://localhost:5005"

# ==========================================
# LLM CONFIGURATION (HYBRID AI SYSTEM)
# ==========================================
# Architecture: Rasa (NLU) + Multi-LLM Orchestration + RAG
# Fallback chain: Gemini (FREE) → Qwen (FREE) → Mistral (FREE)
LLM_ENABLED=true
LLM_PROVIDER="gemini"  # Primary: gemini (FREE)
LLM_FALLBACK_PROVIDER_1="qwen"  # Fallback 1: qwen (FREE, Alibaba Cloud)
LLM_FALLBACK_PROVIDER_2="mistral"  # Fallback 2: mistral (FREE)

# LLM Generation Settings
LLM_MAX_TOKENS=512
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.9

# ==========================================
# CREWAI MULTI-AGENT ORCHESTRATION (OPTIONAL)
# ==========================================
# Enable CrewAI for complex multi-agent query processing
# CrewAI uses specialized agents for different tourism tasks:
# - Tourism Research Agent
# - Itinerary Planner
# - Translator
# - Recommender
# - Safety Agent
USE_CREWAI=false  # Set to true to enable CrewAI
CREWAI_VERBOSE=false  # Enable verbose logging for CrewAI agents

# ==========================================
# GOOGLE GEMINI API
# ==========================================
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=""
GEMINI_MODEL="gemini-pro"  # Options: gemini-pro, gemini-pro-vision

# ==========================================# QWEN AI API (FREE - Alibaba Cloud)
# ==========================================
# Get your API key from: https://dashscope.console.aliyun.com/
QWEN_API_KEY=""
QWEN_MODEL="qwen-plus"  # Options: qwen-plus, qwen-turbo, qwen-max

# ==========================================# MISTRAL AI API (FALLBACK 1)
# ==========================================
# Get your API key from: https://console.mistral.ai/
MISTRAL_API_KEY=""
MISTRAL_MODEL="mistral-medium"  # Options: mistral-medium, mistral-small

# ==========================================
# ANTHROPIC CLAUDE API (OPTIONAL)
# ==========================================
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=""
ANTHROPIC_MODEL="claude-3-sonnet-20240229"

# ==========================================
# GOOGLE CLOUD SERVICES (OPTIONAL)
# ==========================================
GOOGLE_CLOUD_PROJECT_ID=""
GOOGLE_APPLICATION_CREDENTIALS=""
GOOGLE_TRANSLATE_API_KEY=""
GOOGLE_MAPS_API_KEY=""
GOOGLE_SPEECH_API_KEY=""
GOOGLE_TTS_API_KEY=""

# ==========================================
# SEARCH API
# ==========================================
# Tavily AI Search (RECOMMENDED - AI-optimized, better for chatbots)
# Get free API key from: https://tavily.com (1,000 searches/month FREE)
TAVILY_API_KEY=""

# ==========================================
# EXTERNAL APIs (OPTIONAL)
# ==========================================
# OpenWeather API for weather information
# Get from: https://openweathermap.org/api
OPENWEATHER_API_KEY=""

# Currency Layer API for currency conversion
# Get from: https://currencylayer.com/
CURRENCYLAYER_API_KEY=""

# ==========================================
# FIREBASE (OPTIONAL)
# ==========================================
FIREBASE_CREDENTIALS=""

# ==========================================
# EMAIL (SMTP)
# ==========================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USERNAME=""
SMTP_PASSWORD=""

# ==========================================
# OAUTH2 SOCIAL LOGIN (OPTIONAL)
# ==========================================
# Google OAuth
GOOGLE_OAUTH_CLIENT_ID=""
GOOGLE_OAUTH_CLIENT_SECRET=""

# Facebook OAuth
FACEBOOK_APP_ID=""
FACEBOOK_APP_SECRET=""

# ==========================================
# CORS (ALLOWED ORIGINS)
# ==========================================
# CORS - Comma-separated list of allowed origins (for API access)
# Include frontend origin (e.g., http://localhost:3000 for Next.js)
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000,http://127.0.0.1:3001,http://localhost:8000,http://127.0.0.1:8000"

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE="logs/app.log"

# ==========================================
# SUPPORTED LANGUAGES
# ==========================================
SUPPORTED_LANGUAGES="si,ta,en,de,fr,zh,ja"
DEFAULT_LANGUAGE="en"

# ==========================================
# FILE UPLOADS
# ==========================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/gif,audio/wav,audio/mp3"

# ==========================================
# RATE LIMITING
# ==========================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000
RATE_LIMIT_IP_PER_MINUTE=100
RATE_LIMIT_CHAT_PER_MINUTE=30
RATE_LIMIT_LOGIN_PER_MINUTE=5
RATE_LIMIT_REGISTER_PER_MINUTE=3

# ==========================================
# PASSWORD POLICY
# ==========================================
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=false

# ==========================================
# ENCRYPTION (AES-256)
# ==========================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
ENCRYPTION_KEY=""

# ==========================================
# QUICK SETUP GUIDE
# ==========================================
#
# MINIMUM REQUIRED for basic functionality:
# 1. Set SECRET_KEY (generate a secure one!)
# 2. Configure MongoDB (MONGODB_URL)
# 3. Configure Redis (REDIS_URL)
#
# FOR LLM FEATURES (Hybrid AI):
# 4. Get Gemini API key: https://makersuite.google.com/app/apikey
# 5. Set GEMINI_API_KEY

#
# FOR RASA NLU:
# 8. Start Rasa server (see documentation)
# 9. Verify RASA_SERVER_URL
#
# OPTIONAL ENHANCEMENTS:
# - Google Translate API for better multilingual support
# - Google Maps API for location features
# - OpenWeather API for weather information
# - SMTP for email notifications
# - OAuth for social login
#
# ==========================================
# TESTING ENVIRONMENT SETUP
# ==========================================
# For testing, you can use minimal setup:
# - MongoDB: docker run -d -p 27017:27017 mongo
# - Redis: docker run -d -p 6379:6379 redis
# - Rasa: cd backend/rasa && rasa run --enable-api
#
# ==========================================
